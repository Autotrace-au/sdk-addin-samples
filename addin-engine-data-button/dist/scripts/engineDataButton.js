"use strict";geotab.customButtons.engineDataButton=function(e,t,n){var o="Select any vehicle first",i="Graph cannot be opened for multiple devices";e.preventDefault();var r=["DiagnosticEngineSpeedId","DiagnosticGoDeviceVoltageId","DiagnosticDeviceTotalFuelId"],a=function(){var e=n.getState();return e&&e.id&&e.id.length?e.id:null}(),d=null!==a&&Array.isArray(a),l=function(){var e=new Date,t=864e5,n=new Date(e.getTime()-t);return{startDate:n.toISOString(),endDate:e.toISOString()}}(),c=function(){var e=void 0,t=void 0,n=void 0,o=void 0,i=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])},r=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},a=function(e,t,n,o){var a=document.createElement(e);return t&&i(a,t),n&&r(a,n),o&&o.appendChild(a),a},d=function s(){e&&(clearInterval(e),e=void 0),o&&o.removeEventListener("click",s,!1),t&&t.parentNode&&t.parentNode.removeChild(t),t=void 0,n=void 0,o=void 0},l=function(){return document.querySelector("#engineDataButton-addin")},c=function(){t=a("div",{id:"engineDataButton-addin"},{border:"1px solid #ffeb94","background-color":"#fffcdd",color:"#222",margin:"0 auto 0 auto",position:"relative",width:"600px",top:0,right:"0","z-index":"10004","table-layout":"fixed",opacity:.9,"text-align":"center"},document.body),t.destroy=d,n=a("h2",null,{display:"inline-block",margin:"5px 0","word-wrap":"break-word","font-weight":"normal","font-size":"1.5em",color:"#222","text-align":"center"},t),o=a("span",null,{"float":"right","margin-top":"9px","font-size":"20px",width:"30px",position:"relative",top:"-0.1em",left:"-0.1em","font-family":"arial","font-style":"normal","font-weight":"bold",cursor:"pointer",display:"inline-block","text-decoration":"none","text-align":"center","vertical-align":"middle",overflow:"hidden","font-variant":"normal","text-transform":"none",color:"#222"},t),o.innerHTML="x",o.addEventListener("click",d,!1)};return{showMessage:function(o){t=l(),t||(c(),e=setInterval(d,5e3)),n.textContent=o},destroy:function(){t=t||l(),t&&t.destroy()}}}();a&&"all"!==a&&!d?(c.destroy(),n.gotoPage("engineDataProfile",{dateRange:l,device:[a],diagnostic:r})):c.showMessage(d?i:o)};